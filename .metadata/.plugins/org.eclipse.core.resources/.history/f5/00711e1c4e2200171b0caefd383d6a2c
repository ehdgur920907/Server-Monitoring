package com.client.netty;

import io.netty.bootstrap.Bootstrap;
import io.netty.channel.ChannelFuture;
import io.netty.channel.ChannelInitializer;
import io.netty.channel.ChannelPipeline;
import io.netty.channel.EventLoopGroup;
import io.netty.channel.nio.NioEventLoopGroup;
import io.netty.channel.socket.SocketChannel;
import io.netty.channel.socket.nio.NioSocketChannel;

public final class EchoClient {
	   public static void main(String[] args) throws Exception {
	      EventLoopGroup group = new NioEventLoopGroup();

	      try {
	         Bootstrap b = new Bootstrap();
	         b.group(group).channel(NioSocketChannel.class).handler(new ChannelInitializer<SocketChannel>() {
	            @Override
	            protected void initChannel(SocketChannel ch) throws Exception {
	               ChannelPipeline p = ch.pipeline();
	               p.addLast(new EchoClientHandler());
	            }
	         });
	         ChannelFuture f = b.connect("192.168.43.55", 8889).sync();
	         f.channel().closeFuture().sync();
	      } finally {
	         group.shutdownGracefully();
	      }

	   }

	}