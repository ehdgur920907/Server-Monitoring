package com.information.get;

import java.io.File;
import java.text.DecimalFormat;

import com.information.model.Disk;

public class GetDisk implements Get {
	@Override
	public Disk execute() {
		// String drive;
		Disk disk = new Disk();
		File[] roots = File.listRoots();

		for (File root : roots) {
			// drive = root.getAbsolutePath();
			disk.setTotalDisk(String.valueOf(Double.parseDouble(String.format("%.2f", root.getTotalSpace() / Math.pow(1024, 2)))));
			disk.setUsedDisk(String.valueOf(Double.parseDouble(String.format("%.2f", root.getUsableSpace() / Math.pow(1024, 2)))));
			disk.setFreeDisk(String.valueOf(Double.parseDouble(String.format("%.2f", (Double.parseDouble(String.format("%.2f", root.getTotalSpace() / Math.pow(1024, 2)))) - (Double.parseDouble(String.format("%.2f", root.getUsableSpace() / Math.pow(1024, 2))))))));
		}
		return disk;
	}
}
